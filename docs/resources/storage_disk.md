---
page_title: " Commvault : commvault_storage_disk Resource"
subcategory: "Storage"
description: |-
  Use the commvault_storage_disk resource type to create or delete disk storage in the CommCell environment.
---

# commvault_storage_disk (Resource)

Use the commvault_storage_disk resource type to create or delete disk storage in the CommCell environment.

## Example Usage

**Configure commvault disk storage with required fields**
```hcl
data "commvault_client"  "media_agent1" {
  name = "MA1"
}

resource "commvault_storage_disk"  "disk_storage1" {
    name = "SP32-Test-Terraform-disk-Storage"
    enablededuplication = "false"
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
     backuplocation = "E:\\Terraform-Storage"
      
    }
}
```

**Configure commvault disk storage with custom fields**
```hcl
data "commvault_client"  "media_agent1" {
  name = "MA1"
}

data "commvault_role" "role1" {
  name = "Client Group Creator"
}

data "commvault_role" "role2" {
  name = "Alert Owner"
}

data "commvault_user" "user1" {
  name = "testui"
}

data "commvault_usergroup" "usergroup1" {
  name = "{Testing Issue}"
}

data "commvault_credential" "wincred" {
  name = "test-cred"
}

resource "commvault_storage_disk"  "disk_storage2" {
    name = "SP32-Test-Terraform-disk-Storage-Custom"
    enablededuplication = "true"
    deduplicationdbstorage {
      path = "E:\\Terraform-DDB"
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
    }
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
      credentials {
        name = "MA\\administrator"
        password = "#############"
      }
      backuplocation = "\\\\MA\\TerraformBackuploc"
    }
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
      backuplocation = "\\\\MA\\TerraformBackuploc2"
      savedcredentials {
        id = data.commvault_credential.wincred.id
      }
    }
    security {
      role {
        id = data.commvault_role.role1.id
      }
      user {
        id = data.commvault_user.user1.id
      }
    }
    security {
      role {
        id = data.commvault_role.role2.id
      }
      usergroup {
        id = data.commvault_usergroup.usergroup1.id
      }
    }
    dataencryption {
      cipher = "AES"
      keylength = 128
      encrypt = "true"
      keyprovider {
        name = "Built-in"
        id =1
      }
    }
}
```



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enablededuplication` (String) enables or disables deduplication
- `name` (String) Name of the Disk Storage to be created.
- `storage` (Block List, Min: 1) A list of backup locations can be provided for the storage pool being created. (see [below for nested schema](#nestedblock--storage))

### Optional

- `dataencryption` (Block List) Different ways in which data can be encrypted. (see [below for nested schema](#nestedblock--dataencryption))
- `deduplicationdbstorage` (Block Set) A list of dedupe locations can be provided for the storage pool being created. This provides an efficient way to save/store data by eliminating duplicate blocks of data during backups. (see [below for nested schema](#nestedblock--deduplicationdbstorage))
- `security` (Block Set) (see [below for nested schema](#nestedblock--security))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--storage"></a>
### Nested Schema for `storage`

Required:

- `mediaagent` (Block List, Min: 1) (see [below for nested schema](#nestedblock--storage--mediaagent))

Optional:

- `backuplocation` (String)
- `credentials` (Block List) (see [below for nested schema](#nestedblock--storage--credentials))
- `savedcredentials` (Block List) (see [below for nested schema](#nestedblock--storage--savedcredentials))

<a id="nestedblock--storage--mediaagent"></a>
### Nested Schema for `storage.mediaagent`

Optional:

- `name` (String)

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--storage--credentials"></a>
### Nested Schema for `storage.credentials`

Optional:

- `name` (String) username to access the network path
- `password` (String, Sensitive) password to access the network path


<a id="nestedblock--storage--savedcredentials"></a>
### Nested Schema for `storage.savedcredentials`

Optional:

- `name` (String)

Read-Only:

- `id` (Number) The ID of this resource.



<a id="nestedblock--dataencryption"></a>
### Nested Schema for `dataencryption`

Optional:

- `cipher` (String) The different types of encryption keys that can be used for encrypting the data. The values are case sensitive [BlowFish, AES, DES3, GOST, Serpent, Twofish]
- `encrypt` (String)
- `keylength` (Number) Different keylengths are present for different kinds of ciphers. Blowfish,Twofish,AES and Serpent all accept both 128 and 256. DES3 accepts only 192. GOST accepts only 256.
- `keyprovider` (Block List) (see [below for nested schema](#nestedblock--dataencryption--keyprovider))

<a id="nestedblock--dataencryption--keyprovider"></a>
### Nested Schema for `dataencryption.keyprovider`

Optional:

- `name` (String)

Read-Only:

- `id` (Number) The ID of this resource.



<a id="nestedblock--deduplicationdbstorage"></a>
### Nested Schema for `deduplicationdbstorage`

Optional:

- `mediaagent` (Block List) (see [below for nested schema](#nestedblock--deduplicationdbstorage--mediaagent))
- `path` (String)

<a id="nestedblock--deduplicationdbstorage--mediaagent"></a>
### Nested Schema for `deduplicationdbstorage.mediaagent`

Optional:

- `name` (String)

Read-Only:

- `id` (Number) The ID of this resource.



<a id="nestedblock--security"></a>
### Nested Schema for `security`

Optional:

- `role` (Block List) (see [below for nested schema](#nestedblock--security--role))
- `user` (Block List) (see [below for nested schema](#nestedblock--security--user))
- `usergroup` (Block List) (see [below for nested schema](#nestedblock--security--usergroup))

<a id="nestedblock--security--role"></a>
### Nested Schema for `security.role`

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--security--user"></a>
### Nested Schema for `security.user`

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--security--usergroup"></a>
### Nested Schema for `security.usergroup`

Read-Only:

- `id` (Number) The ID of this resource.


