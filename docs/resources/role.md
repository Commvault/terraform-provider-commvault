---
page_title: " Commvault : Role Resource "
subcategory: "Security"
description: |-
    Use the commvault_role resource type to create a role in the CommCell environment.
---

# commvault_role (Resource)

Use the commvault_role resource type to create a role in the CommCell environment.

## Example Usage

**Role creation using required fields**
```hcl
resource "commvault_role" "role1" {
  name = "Test-Terraform-Role-1"
  permissionlist {
    category {
      id = 117
      //Alert
    }
  }
  permissionlist {
    category {
      id = 108
      //Schedule Policy
    }
  }
  permissionlist {
    permission {
      id = 265
      //Create Webhook
    }
  }
}
```
**Role creation using custom fields**
```hcl
resource "commvault_role" "role2" {
  name = "Test-Terraform-Role-2"
  permissionlist {
    permission {
      id = 115
      //Create Schedule Policy
    }
    category {
      id = 108
      //Schedule Policy
    }
  }
  permissionlist {
    permission {
      id = 153
      //Delete Alert
    }
    category {
      id = 117
      //Alert
    }
  }
  visibletoall = "false"
  enabled = "false"
  security {
    role {
      id = data.commvault_role.role2.id
    }
    usergroup {
      id = data.commvault_usergroup.usergroup1.id
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the new role
- `permissionlist` (Block Set, Min: 1) Used to provide the list of permissions associated with the role. (see [below for nested schema](#nestedblock--permissionlist)) <br>
[List of Security Permission IDs and Names](https://documentation.commvault.com/2023/essential/96919_rest_api_security_permission_ids_and_names.html)

### Optional

- `enabled` (String) Used to determine if the role is enabled or disabled. If not provided, role will be enabled by default.
- `security` (Block Set) Used to update the security association for the role (see [below for nested schema](#nestedblock--security))
- `visibletoall` (String) Determines if the role is visible to everyone. if not provided, it will be set to false by default.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--permissionlist"></a>
### Nested Schema for `permissionlist`

Optional:

- `category` (Block List) (see [below for nested schema](#nestedblock--permissionlist--category))
- `permission` (Block List) (see [below for nested schema](#nestedblock--permissionlist--permission))

<a id="nestedblock--permissionlist--category"></a>
### Nested Schema for `permissionlist.category`

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--permissionlist--permission"></a>
### Nested Schema for `permissionlist.permission`

Read-Only:

- `id` (Number) The ID of this resource.



<a id="nestedblock--security"></a>
### Nested Schema for `security`

Optional:

- `role` (Block List) (see [below for nested schema](#nestedblock--security--role))
- `user` (Block List) (see [below for nested schema](#nestedblock--security--user))
- `usergroup` (Block List) (see [below for nested schema](#nestedblock--security--usergroup))

<a id="nestedblock--security--role"></a>
### Nested Schema for `security.role`

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--security--user"></a>
### Nested Schema for `security.user`

Read-Only:

- `id` (Number) The ID of this resource.


<a id="nestedblock--security--usergroup"></a>
### Nested Schema for `security.usergroup`

Read-Only:

- `id` (Number) The ID of this resource.


