---
page_title: " Commvault : commvault_storage_cloud_accesspath Resource"
subcategory: "Storage"
description: |-
  Use the commvault_storage_cloud_accesspath resource type to create or delete cloud accesspath in the CommCell environment.
---

# commvault_storage_cloud_accesspath (Resource)

Use the commvault_storage_cloud_accesspath resource type to create or delete cloud accesspath in the CommCell environment.

## Example Usage

**Configure commvault storage cloud accesspath with custom fields**
```hcl
data "commvault_client"  "media_agent1" {
  name = "MA1"
}

data "commvault_credential" "awscred" {
  name = "Sheza-Terraform-AWS"
}

data "commvault_client"  "media_agent2" {
  name = "MA2"
}

data "commvault_role" "role2" {
  name = "Alert Owner"
}

data "commvault_user" "user1" {
  name = "testui"
}

data "commvault_usergroup" "usergroup1" {
  name = "{Testing Issue}"
}

data "commvault_credential" "awscred" {
  name = "Terraform-AWS"
}

resource "commvault_storage_cloud_s3"  "storage_cloud_s3-2" {
    name = "SP32-Test-Terraform-cloud-s3-Storage-AccessSecret-Custom"
    mediaagent {
        id = data.commvault_client.media_agent2.id
      }
    servicehost = "s3.ap-south-1.amazonaws.com"
    authentication = "Access and secret keys"
    credentials {
      id = data.commvault_credential.awscred.id
    }
    bucket = "terraform-test1-bucket-mumbai"
    storageclass = "Standard"
    usededuplication = "true"
    deduplicationdblocation {
      path = "E:\\TerraformBackuploc"
      mediaagent {
        id = data.commvault_client.media_agent2.id
      }
    }
    security {
      role {
        id = data.commvault_role.role2.id
      }
      usergroup {
        id = data.commvault_usergroup.usergroup1.id
      }
    }
    encryption {
      cipher = "BlowFish"
      keylength = 256
      encrypt = "true"
      keyprovider {
        id = 1
        name = "Built-in"
      }
    }   
}

resource "commvault_storage_cloud_bucket_s3" "commvault_storage_cloud_bucket_s3-2" {
  cloudstorageid = commvault_storage_cloud_s3.storage_cloud_s3-2.id
  bucket = "terraform-test2-bucket-mumbai"
  mediaagent {
    id = data.commvault_client.media_agent2.id
  }
  storageclass = "Standard - Infrequent access"
  servicehost = "s3.ap-south-1.amazonaws.com"
  credentials {
      id = data.commvault_credential.awscred.id
    }
  authentication = "Access and secret keys"
  password = "##########"
  port = 8080
  proxyaddress = "test.abc.com"
  username = "administrator"
  enable = "true"
  access = "READ_AND_WRITE"
  configuration {
    enable = "true"
    disablebackuplocationforfuturebackups = "true"
    prepareforretirement = "true"
    storageacceleratorcredentials {
    id = data.commvault_credential.awscred1.id
    }  
  }
}

resource "commvault_storage_cloud_accesspath" "storage_cloud_accesspath-1"{
  cloudstorageid = commvault_storage_cloud_s3.storage_cloud_s3-2.id
  bucketid = commvault_storage_cloud_bucket_s3.commvault_storage_cloud_bucket_s3-2.id
  mediaagent {
    id = data.commvault_client.media_agent1.id
  }
}
```



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucketid` (Number) Id of Bucket
- `cloudstorageid` (Number) Id of cloud Storage

### Optional

- `mediaagent` (Block List) (see [below for nested schema](#nestedblock--mediaagent))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--mediaagent"></a>
### Nested Schema for `mediaagent`

Optional:

- `name` (String)

Read-Only:

- `id` (Number) The ID of this resource.


