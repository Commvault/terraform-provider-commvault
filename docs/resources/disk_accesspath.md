---
page_title: " Commvault : commvault_disk_accesspath Resource"
subcategory: "Storage"
description: |-
  Use the commvault_disk_accesspath resource type to create or delete  disk accesspath in the CommCell environment.
---

# commvault_disk_accesspath (Resource)

Use the commvault_disk_accesspath resource type to create or delete  disk accesspath in the CommCell environment.

## Example Usage

**Configure commvault disk accesspath with required fields**
```hcl
data "commvault_client"  "media_agent1" {
  name = "client1"
}

data "commvault_client"  "media_agent2" {
  name = "client2"
}

data "commvault_client"  "media_agent3" {
  name = "angle"
}

resource "commvault_storage_disk"  "disk_storage1" {
    name = "SP32-Test-Terraform-disk-Storage"
    enablededuplication = "false"
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
     backuplocation = "E:\\Terraform-Storage"
      
    }
}

resource "commvault_storage_disk_backup_location" "storage_disk_backup_location1" {
  storagepoolid = commvault_storage_disk.disk_storage1.id
  mediaagent {
    id = data.commvault_client.media_agent2.id
  }
  backuplocation = "E:\\Terraform-Storage-Local-Disk"
}


resource "commvault_disk_accesspath" "disk_accesspath1" {
    storagepoolid = commvault_storage_disk.disk_storage1.id
    backuplocationid = commvault_storage_disk_backup_location.storage_disk_backup_location1.id
    mediaagent {
      id = data.commvault_client.media_agent3.id
    }
}
```
**Configure commvault disk accesspath with custom fields**
```hcl
data "commvault_client"  "media_agent1" {
  name = "client1"
}

data "commvault_role" "role1" {
  name = "Client Group Creator"
}

data "commvault_role" "role2" {
  name = "Alert Owner"
}

data "commvault_user" "user1" {
  name = "testui"
}

data "commvault_usergroup" "usergroup1" {
  name = "{Testing Issue}"
}

data "commvault_credential" "wincred" {
  name = "test-cred"
}

resource "commvault_storage_disk"  "disk_storage2" {
    name = "SP32-Test-Terraform-disk-Storage-Custom"
    enablededuplication = "true"
    deduplicationdbstorage {
      path = "E:\\Terraform-DDB"
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
    }
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
      credentials {
        name = "machine\\administrator"
        password = "###########"
      }
      backuplocation = "\\\\machine\\TerraformBackuploc"
    }
    storage {
      mediaagent {
        id = data.commvault_client.media_agent1.id
      }
      backuplocation = "\\\\machine\\TerraformBackuploc2"
      savedcredentials {
        id = data.commvault_credential.wincred.id
      }
    }
    security {
      role {
        id = data.commvault_role.role1.id
      }
      user {
        id = data.commvault_user.user1.id
      }
    }
    security {
      role {
        id = data.commvault_role.role2.id
      }
      usergroup {
        id = data.commvault_usergroup.usergroup1.id
      }
    }
    dataencryption {
      cipher = "AES"
      keylength = 128
      encrypt = "true"
      keyprovider {
        name = "Built-in"
        id =1
      }
    }
}

resource "commvault_storage_disk_backup_location" "storage_disk_backup_location2" {
  storagepoolid = commvault_storage_disk.disk_storage2.id
  mediaagent {
    id = data.commvault_client.media_agent1.id
  }
  backuplocation = "\\\\machine\\TerraformBackuploc3"
  savedcredentials {
    id = data.commvault_credential.wincred.id
  }
  access = "READ_AND_WRITE"
  configuration {
    enablebackuplocation = "true"
    disablebackuplocationforfuturebackups = "true"
    prepareforretirement = "true"
  }
  enabled = "true"
}

resource "commvault_disk_accesspath" "disk_accesspath2" {
    storagepoolid = commvault_storage_disk.disk_storage2.id
    backuplocationid = commvault_storage_disk_backup_location.storage_disk_backup_location2.id
    mediaagent {
      id = data.commvault_client.media_agent3.id
    }
    access = "READ_AND_WRITE"
    enabled = "true"
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `backuplocationid` (Number) Id of the backup location whose details have to be fetched to add a new access path
- `mediaagent` (Block List, Min: 1) Can add a list of media agents to be added as the disk access path. (see [below for nested schema](#nestedblock--mediaagent))
- `storagepoolid` (Number) Id of the disk storage pool whose details have to be fetched to add a new access path

### Optional

- `access` (String) The access type for the access path can be either read (writing to path not allowed) or read and write (writing to path allowed). [READ_AND_WRITE, READ]
- `enabled` (String)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--mediaagent"></a>
### Nested Schema for `mediaagent`

Read-Only:

- `id` (Number) The ID of this resource.


